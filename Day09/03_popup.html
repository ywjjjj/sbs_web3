<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>popup</title>

    <script>

        let currentPopUp            // 현재 열린 팝업창
        let inputText               // 입력한 텍스트
        document.addEventListener("DOMContentLoaded", () => {
            let input = document.querySelector('#input')
            input.addEventListener('change', () => {
                inputText = input.value
            })
        })

        // 팝업 창 열기
        function openPopUp() {
            // window.open('새창 주소', '창 이름', '설정 옵션')

            let option = 'width=400, height=500, left=100,'
            let etc = 'toolbar=yes, menubar=yes, location=yes, resizable=no, status=yes'
            option += etc
            currentPopup = window.open('popup.html', '팝업', option)
        }

        /* 
            ★ 옵션
            [크기]
            - width     : 가로 길이
            - height    : 세로 길이
            - top       : 위로부터의 떨어진 거리
            - left       : 왼쪽로부터의 떨어진 거리
            [기타] (yes, no) - chrome 브라우저에서 미지원
            - toolbar   : 상단 도구창 출력 여부
            - menubar   : 상단 메뉴 출력 여부
            - location  : 메뉴 아이콘 출력 여부
            - resizable : 창 크기 조절 가능 여부
            - status    : 상태 표시줄 출력 여부
        */

        // 팝업 창 제어
        function openControl() {
            let option = 'width=800, height=600, top=100, left=100,'
            let newWindow = window.open('', '팝업2', option)
            let h2 = '<h2>새 창에서 팝업창 열기</h2>'
            newWindow.document.write(h2)

            currentPopup = newWindow
        }

        // 팝업창 닫기
        function closePopup() {
            currentPopup.close()
        }
        function closeControl() {
            currentPopup.close()
        }

        function appendPopup() {
            let h3=document.createElement('h3')
            h3.append(inputText)
            currentPopup.document.body.append(h3)
        }


    </script>
</head>
<body>
    <h1>팝업창을 열어보세요.</h1>
    <button type="button" onclick="openPopUp();">팝업 창 열기(1)</button>
    <button type="button" onclick="openControl();">팝업 창 제어(2)</button>
    <br><br>
    <button type="button" onclick="closePopUp();">팝업 창 닫기(1)</button>
    <button type="button" onclick="closeControl();">팝업 창 닫기(2)</button>
    <br><br>
    <input type="text" id="input">
    <button type="button" onclick="appendPopup();">팝업 창에 전달</button>
</body>
</html>